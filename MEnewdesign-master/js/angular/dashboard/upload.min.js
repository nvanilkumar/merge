!function(r){var n=function(r,n){var e=function(r,n,e){return function(){e.$apply(function(){n.resolve(r.result)})}},o=function(r,n,e){return function(){e.$apply(function(){n.reject(r.result)})}},t=function(r,n){return function(r){n.$broadcast("fileProgress",{total:r.total,loaded:r.loaded})}},a=function(r,n){var a=new FileReader;return a.onload=e(a,r,n),a.onerror=o(a,r,n),a.onprogress=t(a,n),a},u=function(n,e){var o=r.defer(),t=a(o,e);return t.readAsDataURL(n),o.promise};return{readAsDataUrl:u}};r.factory("fileReader",["$q","$log",n])}(angular.module("eventModule"));