

/*** cnvyr.min.js.gz ***/
$(document).ready(function(){$("#customfieldsType").on("change",function(){if(this.value=="ticket"){$("#ticketsDiv").show();showCustomFields($(".tickets").val())}else{$("#ticketsDiv").hide();showCustomFields(0)}});$("#add_custom_field").click(function(){var b=$("#eventId").val();var a=dasboard_configureAddcustomfields+"/"+b;if($("#customfieldsType").val()==="ticket"){var c=$("#ticketsDiv input[type='radio']:checked").val();a=a+"/"+c}window.location=a})});function showCustomFields(f){$("#customFieldsDataTable tr.customfieldRow").remove();var d=$("#eventId").val();if(f){var b="eventId="+d+"&ticketid="+f+"&allfields=1"}else{var b="eventId="+d+"&allfields=1"}var e=api_configureGetDashboardEventCustomFields;var h="POST";var g="JSON";function c(i){if(i.response.total>0){var j=1;$.each(i.response.customFields,function(s,q){++j;var n="",r="";if(q.fieldmandatory==1){n='checked="checked"'}if(q.fieldname=="Full Name"||q.fieldname=="Email Id"||q.fieldname=="Mobile No"){n='checked="checked" disabled="disabled"'}if(q.fieldname!=="Full Name"&&q.displayonticket==1){r="checked=checked"}if(q.fieldname=="Full Name"){r='checked="checked" disabled="disabled"'}var o="orangrBtn";var m="hide";if(q.displaystatus==1){if(q.fieldname=="Full Name"||q.fieldname=="Email Id"||q.fieldname=="Mobile No"){var p="no"}else{o="greenBtn";m="show"}}if(j%2!=0){trClass='class="customfieldRow odd"'}else{trClass='class="customfieldRow"'}var k="";if(q.commonfieldid==0){k='&nbsp;<button onclick="editCustomField('+q.id+')" id="editCustomField'+q.id+'" type="button" class="editCustomField btn blueBtn"> Edit</button>'}var l="<tr "+trClass+"><td>"+q.fieldname+"</td><td>"+q.fieldtype+'</td><td><input class="mandatory" type="checkbox" name="sport1[]" value="'+q.id+'" '+n+'></td><td><input class="displayonticket" type="checkbox" name="sport1[]" value="'+q.id+'" '+r+"></td>";if(p){l+="<td>&nbsp;</td>"}else{l+='<td><button type="button" id="displaystatus'+q.id+'" value="'+q.id+'" class="displaystatus btn '+o+'">'+m+"</button>"+k+"</td>"}l+="<td>"+q.ticketName+'</td><td><input id="ordervalue'+q.id+'" type="text" value="'+q.order+'" class="CustomOrder" disabled><span id="'+q.id+'" class="orderIcon icon-edit"></span></td>';$("#customFieldsDataTable tr:last").after(l)});customCheckbox("sport1[]")}}function a(i){alert(i.responseJSON.response.messages.message[0])}getPageResponse(e,h,b,g,c,a)}function editCustomField(a){var b=$("#eventId").val();window.location=site_url+"dashboard/configure/editcustomfield/"+b+"/"+a}$(document).on("click",".displaystatus",function(){var d="Are you sure you want to add this field? If you click on OK, this field will be added on the registration form";if($(this).text()=="show"){d="Are you sure you want to remove this field? If you click on OK, this field will be removed from the registration form but the information already collected for this field will be retained."}if(confirm(d)){var c=this.value;$("#displaystatus"+c).prop("disabled",true);var b=$("#eventId").val();var g="eventid="+b+"&customfieldid="+this.value+"&field=displaystatus";var e=api_configureUpdateStatus;var a="POST";var h="JSON";function i(j){console.log(j);if(j.response.total>0){if(j.response.updateCustomFieldResponse.value==1){$("#displaystatus"+c).text("show");$("#displaystatus"+c).removeClass("orangrBtn");$("#displaystatus"+c).addClass("greenBtn")}else{$("#displaystatus"+c).text("hide");$("#displaystatus"+c).removeClass("greenBtn");$("#displaystatus"+c).addClass("orangrBtn")}}$("#displaystatus"+c).prop("disabled",false)}function f(j){alert(j.responseJSON.response.messages.message[0]);$("#displaystatus"+c).prop("disabled",false)}getPageResponse(e,a,g,h,i,f)}});$(document).on("click",".displayonticket",function(){var c=$(".displayonticket:checked").length;if(c>4){alert("Sorry, you can select only Four fields to display on print pass");$(this).prop("checked",false);$(this).parent().removeClass("selected");return false}else{var e=$("#eventId").val();var b="eventid="+e+"&customfieldid="+this.value+"&field=displayonticket";var f=api_configureUpdateStatus;var h="POST";var g="JSON";function d(i){}function a(i){alert(i.responseJSON.response.messages.message[0])}getPageResponse(f,h,b,g,d,a)}});$(document).on("change",".mandatory",function(){var d=$("#eventId").val();var b="eventid="+d+"&customfieldid="+this.value+"&field=mandatory";var e=api_configureUpdateStatus;var g="POST";var f="JSON";function c(h){console.log(h)}function a(h){alert(h.responseJSON.response.messages.message[0])}getPageResponse(e,g,b,f,c,a)});$(document).on("click",".orderIcon",function(){var c=this.id;if(this.className.indexOf("icon-edit")!="-1"){$(this).removeClass("icon-edit");$(this).addClass("icon-publish mar10");$("#ordervalue"+c).prop("disabled",false);$("#ordervalue"+c).focus()}else{var b=$("#eventId").val();var h=$("#ordervalue"+this.id).val();if(isNaN(h)||h<=0){alert("Please enter valid number")}else{var f="eventid="+b+"&customfieldid="+c+"&field=order&value="+h;var d=api_configureUpdateStatus;var a="POST";
var g="JSON";function i(j){console.log(j);$("#"+c).removeClass("icon-publish mar10");$("#"+c).addClass("icon-edit");$("#ordervalue"+c).prop("disabled",true)}function e(j){alert(j.responseJSON.response.messages.message[0])}getPageResponse(d,a,f,g,i,e)}}});